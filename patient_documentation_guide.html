<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient-Specific Documentation - Quick Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 30px;
        }
        .guide-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px solid #667eea;
        }
        .header h1 {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .section {
            margin-bottom: 40px;
        }
        .section-title {
            color: #764ba2;
            font-weight: bold;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .step-card {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            transition: transform 0.3s;
        }
        .step-card:hover {
            transform: translateX(10px);
        }
        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        .feature-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }
        .feature-box i {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        .code-block {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .alert-custom {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <div class="header">
            <h1><i class="fas fa-book-medical"></i> Patient-Specific Documentation</h1>
            <p class="lead text-muted">Complete Setup & Usage Guide</p>
        </div>

        <!-- Setup Instructions -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-database"></i> Setup Instructions
            </div>
            
            <div class="step-card">
                <div class="d-flex align-items-start">
                    <span class="step-number">1</span>
                    <div>
                        <h5 class="fw-bold">Run the SQL Migration</h5>
                        <p class="mb-2">Open phpMyAdmin and select your database, then:</p>
                        <ul>
                            <li>Click on the "SQL" tab</li>
                            <li>Open the file: <code>documentation_patient_specific.sql</code></li>
                            <li>Copy all the SQL content and paste it in the SQL query box</li>
                            <li>Click "Go" to execute</li>
                        </ul>
                        <div class="alert-custom">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Important:</strong> Make sure to backup your database before running the SQL script!
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex align-items-start">
                    <span class="step-number">2</span>
                    <div>
                        <h5 class="fw-bold">Verify Database Changes</h5>
                        <p>After running the SQL, check the <code>documentation</code> table:</p>
                        <ul>
                            <li>New column: <code>patient_id</code> (can be NULL)</li>
                            <li>New column: <code>created_at</code></li>
                            <li>New column: <code>updated_at</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature Overview -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-star"></i> Key Features
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="fas fa-globe"></i>
                        <h5>Global Instructions</h5>
                        <p class="small mb-0">Create instructions visible to all patients who don't have specific ones</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="fas fa-user-md"></i>
                        <h5>Patient-Specific</h5>
                        <p class="small mb-0">Create personalized instructions for individual patients</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box">
                        <i class="fas fa-edit"></i>
                        <h5>Easy Management</h5>
                        <p class="small mb-0">View, edit, and update instructions with one click</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- How to Use -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-laptop-medical"></i> How to Use (Admin)
            </div>

            <div class="step-card">
                <div class="d-flex align-items-start">
                    <span class="step-number">1</span>
                    <div>
                        <h5 class="fw-bold">Creating a Global Instruction (For All Patients)</h5>
                        <ul>
                            <li>Go to: <strong>Clinical Updates & Documentation</strong> page</li>
                            <li>In the form, leave the dropdown at: <strong>"üåç Global Instruction (All Patients)"</strong></li>
                            <li>Enter a title (e.g., "General Clinical Guidelines")</li>
                            <li>Enter your content/instructions</li>
                            <li>Click <strong>"Save Instruction"</strong></li>
                        </ul>
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            This instruction will be shown to ALL patients who don't have a patient-specific instruction.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex align-items-start">
                    <span class="step-number">2</span>
                    <div>
                        <h5 class="fw-bold">Creating a Patient-Specific Instruction</h5>
                        <ul>
                            <li>Select a patient from the dropdown (e.g., "üë§ John Doe")</li>
                            <li>Enter a custom title (e.g., "Blood Test Results - December 2025")</li>
                            <li>Enter personalized instructions for that patient</li>
                            <li>Click <strong>"Save Instruction"</strong></li>
                        </ul>
                        <div class="alert alert-success">
                            <i class="fas fa-check-circle me-2"></i>
                            This instruction will ONLY be visible to the selected patient.
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex align-items-start">
                    <span class="step-number">3</span>
                    <div>
                        <h5 class="fw-bold">Editing Existing Instructions</h5>
                        <ul>
                            <li>Look at the <strong>"Patient-Specific Instructions"</strong> table</li>
                            <li>Find the instruction you want to edit</li>
                            <li>Click the <strong>"Edit"</strong> button</li>
                            <li>The form will populate with that patient's data</li>
                            <li>Make your changes and click <strong>"Save Instruction"</strong></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Patient View -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-user"></i> What Patients See
            </div>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="card border-success">
                        <div class="card-header bg-success text-white">
                            <i class="fas fa-user-check me-2"></i>Patient WITH Specific Instruction
                        </div>
                        <div class="card-body">
                            <p>When a patient logs in and visits their Documentation page:</p>
                            <ul>
                                <li>They see their <strong>personalized instruction</strong></li>
                                <li>The title shows the custom title you set</li>
                                <li>The content is specific to them</li>
                            </ul>
                            <div class="alert alert-success small mb-0">
                                Example: "Blood Test Results - December 2025"
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card border-primary">
                        <div class="card-header bg-primary text-white">
                            <i class="fas fa-users me-2"></i>Patient WITHOUT Specific Instruction
                        </div>
                        <div class="card-body">
                            <p>When a patient doesn't have a specific instruction:</p>
                            <ul>
                                <li>They see the <strong>global instruction</strong></li>
                                <li>Same as all other patients without specific ones</li>
                                <li>Falls back automatically</li>
                            </ul>
                            <div class="alert alert-primary small mb-0">
                                Example: "General Clinical Guidelines"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Examples -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-lightbulb"></i> Use Case Examples
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title text-primary">
                                <i class="fas fa-flask me-2"></i>Blood Test Results
                            </h5>
                            <p class="card-text">
                                <strong>Patient:</strong> Sarah Johnson<br>
                                <strong>Title:</strong> "Your Blood Test Results - Dec 23, 2025"<br>
                                <strong>Content:</strong> "Your hemoglobin is 13.2 g/dL (normal). Vitamin D is low at 18 ng/mL. Please start Vitamin D supplements..."
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title text-success">
                                <i class="fas fa-pills me-2"></i>Medication Update
                            </h5>
                            <p class="card-text">
                                <strong>Patient:</strong> Michael Chen<br>
                                <strong>Title:</strong> "Medication Dosage Change"<br>
                                <strong>Content:</strong> "Your medication has been adjusted. New dosage: 50mg daily. Take with food. Next review: Jan 15, 2026..."
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title text-warning">
                                <i class="fas fa-calendar-check me-2"></i>Follow-up Instructions
                            </h5>
                            <p class="card-text">
                                <strong>Patient:</strong> Emily Davis<br>
                                <strong>Title:</strong> "Post-Session Follow-up"<br>
                                <strong>Content:</strong> "Please practice the breathing exercises we discussed. Journal your thoughts daily. Next appointment: Dec 30..."
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <div class="card h-100">
                        <div class="card-body">
                            <h5 class="card-title text-info">
                                <i class="fas fa-notes-medical me-2"></i>Pre-Appointment Prep
                            </h5>
                            <p class="card-text">
                                <strong>Patient:</strong> David Wilson<br>
                                <strong>Title:</strong> "Preparation for Next Visit"<br>
                                <strong>Content:</strong> "Please bring your sleep diary and any questions you've noted. Fast for 8 hours before blood work..."
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Files Modified -->
        <div class="section">
            <div class="section-title">
                <i class="fas fa-file-code"></i> Modified Files
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-database fa-3x text-primary mb-3"></i>
                            <h6>documentation_patient_specific.sql</h6>
                            <p class="small text-muted">Database migration</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-user-shield fa-3x text-success mb-3"></i>
                            <h6>clinical_updates_documentation.php</h6>
                            <p class="small text-muted">Admin interface</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card text-center">
                        <div class="card-body">
                            <i class="fas fa-user fa-3x text-info mb-3"></i>
                            <h6>documentation.php</h6>
                            <p class="small text-muted">Patient view</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-5 pt-4 border-top">
            <p class="text-muted">
                <i class="fas fa-check-circle text-success me-2"></i>
                <strong>All Setup Complete!</strong> You can now create patient-specific instructions.
            </p>
            <a href="admin/clinical_updates_documentation.php" class="btn btn-primary btn-lg mt-3">
                <i class="fas fa-arrow-right me-2"></i>Go to Documentation Page
            </a>
        </div>
    </div>
</body>
</html>
